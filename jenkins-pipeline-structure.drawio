<mxfile host="app.diagrams.net" modified="2025-09-02T17:30:31.000Z" agent="draw.io" etag="jenkins-pipeline" version="24.7.17">
  <diagram name="Jenkins Pipeline Structure" id="jenkins-pipeline">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Pipeline Start -->
        <mxCell id="start" value="Pipeline Start" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Parameters & Environment -->
        <mxCell id="params" value="Parameters&#xa;• IMAGE_TAG: latest&#xa;• CONTAINER_NAME: academic_deadline_app&#xa;• HOST_PORT: 3000&#xa;• DEPLOYMENT_TYPE: docker-compose/kubernetes/both&#xa;• K8S_NAMESPACE: default" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="40" y="120" width="240" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="env" value="Environment Variables&#xa;• REPO_URL: GitHub repository&#xa;• BRANCH: master&#xa;• DOCKER_HUB_REPO: aryankhandelwallll/academic-deadline&#xa;• AWS_REGION: ap-south-1&#xa;• AWS_ACCOUNT_ID: 698031349056&#xa;• ECR_REPO: AWS ECR repository" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="800" y="120" width="280" height="100" as="geometry" />
        </mxCell>
        
        <!-- Stage 1: Checkout -->
        <mxCell id="checkout" value="Checkout Code&#xa;&#xa;Git checkout from&#xa;master branch" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="520" y="140" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Stage 2: Build Docker Image -->
        <mxCell id="build" value="Build Docker Image&#xa;&#xa;docker build -t&#xa;${DOCKER_HUB_REPO}:${IMAGE_TAG}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="520" y="260" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Stage 3: Push to Docker Hub -->
        <mxCell id="dockerhub" value="Push to Docker Hub&#xa;&#xa;Login with credentials&#xa;Push image to Docker Hub" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="380" y="380" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Stage 4: Push to AWS ECR -->
        <mxCell id="ecr" value="Push to AWS ECR&#xa;&#xa;Login to ECR&#xa;Tag and push image" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="660" y="380" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Decision Point -->
        <mxCell id="decision" value="Deployment Type?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="520" y="500" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Docker Compose Deployment -->
        <mxCell id="docker-compose" value="Deploy with&#xa;Docker Compose&#xa;&#xa;• Create docker-compose.yml&#xa;• MongoDB + App services&#xa;• Network configuration&#xa;• Volume mounting" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="220" y="620" width="140" height="100" as="geometry" />
        </mxCell>
        
        <!-- Kubernetes Deployment -->
        <mxCell id="kubernetes" value="Deploy to Kubernetes&#xa;&#xa;• Update kubeconfig (EKS)&#xa;• Test kubectl connectivity&#xa;• Create namespace&#xa;• Create secrets&#xa;• Apply manifests&#xa;• Monitor rollout" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="820" y="620" width="140" height="100" as="geometry" />
        </mxCell>
        
        <!-- Both Deployments -->
        <mxCell id="both" value="Both Deployments&#xa;&#xa;Execute both&#xa;Docker Compose&#xa;and Kubernetes&#xa;deployments" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="520" y="620" width="120" height="100" as="geometry" />
        </mxCell>
        
        <!-- Post Actions -->
        <mxCell id="success" value="Success&#xa;&#xa;Pipeline completed&#xa;successfully!" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="380" y="760" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="failure" value="Failure&#xa;&#xa;Check console&#xa;logs for errors" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="680" y="760" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- Arrows -->
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="start" target="checkout">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="checkout" target="build">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow3a" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="build" target="dockerhub">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="580" y="360" />
              <mxPoint x="440" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow3b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="build" target="ecr">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="580" y="360" />
              <mxPoint x="720" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow4a" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="dockerhub" target="decision">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="440" y="540" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow4b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ecr" target="decision">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="720" y="540" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow5a" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="decision" target="docker-compose">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="600" />
              <mxPoint x="290" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow5b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="decision" target="both">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow5c" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="decision" target="kubernetes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="640" y="600" />
              <mxPoint x="890" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow6a" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="docker-compose" target="success">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="290" y="740" />
              <mxPoint x="360" y="740" />
              <mxPoint x="360" y="790" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow6b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="both" target="success">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="580" y="740" />
              <mxPoint x="430" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow6c" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="kubernetes" target="success">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="890" y="740" />
              <mxPoint x="500" y="740" />
              <mxPoint x="500" y="790" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Labels for decision branches -->
        <mxCell id="label1" value="docker-compose" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="360" y="590" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label2" value="both" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="580" y="590" width="40" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label3" value="kubernetes" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="720" y="590" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- Title -->
        <mxCell id="title" value="Jenkins Pipeline Structure - Academic Deadline Tracker" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="400" y="10" width="360" height="30" as="geometry" />
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="260" width="200" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-title" value="Legend" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="270" width="40" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-stage" value="Pipeline Stage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="50" y="300" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-deploy" value="Deployment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="50" y="330" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-decision" value="Decision" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="50" y="355" width="60" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-config" value="Configuration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="140" y="300" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-success" value="Success" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="140" y="330" width="50" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-failure" value="Failure" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="140" y="360" width="50" height="20" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
